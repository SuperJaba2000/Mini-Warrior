<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Mini|Warriors</title>
        <link rel="stylesheet" href="assets/gameStyle.css">
    </head>
    <body>
	    <div id="scene">
		    <canvas id="world"></canvas>
		    <a id="version" align="left"></a><br>
		    <a id="coordinates" align="left"></a>
		    <a id="biome" align="left"></a>
		    <canvas id="inventory"></canvas>
                         <input type="button" id="left" value="L">
                         <input type="button" id="up" value="U">
                         <input type="button" id="down" value="D">
                         <input type="button" id="right" value="R">
		    <canvas id="minimap"></canvas>
			
			<button id="pause" height="64px" width="64px" onclick="changePause()"> 
		        <img src="assets/sprites/ui/pause.png" alt="pause" style="vertical-align: middle">
		    </button>
			
			<label id="mods_loader">
                <input type="file" onchange="loadMod(this)">
                    Load a Mod 
            </label>
		</div>
		
		<script src="arc/Vars.js"></script>
		<script src="arc/Graphic.js"></script>
		
		<script src='util/random.js'></script>
		<script src='util/noise.js'></script>
		<script src='util/generator.js'></script>
		
		<script src='content/blocks.js'></script>
		<script src='content/entities.js'></script>
		<script src='content/player-classes.js'></script>
		<script src='content/map.js'></script>
		
		<script src='content/mods.js'></script>
		
		<script src="arc/TextureLoader.js"></script>
		
		<script src="arc/Control.js"></script>

		<script>
			function resizing(){
			        var tileSize = Settings.debug.tileSize;
			        
					let h = Math.round(window.innerHeight  / tileSize) + 1;
			        screenSize.height = h;
					let w = Math.round(window.innerWidth / tileSize) + 1;
				screenSize.width = w;
					
				world.height = screenSize.height * tileSize;
				world.width = screenSize.width * tileSize;
				
				scene.height = world.height;
				scene.width = world.width;
			}
			
			resizing();
		
                        /// /// /// /// /// /// /// /// /// /// /// /// /// 
		        /// /// /// /// /// /// /// /// /// /// /// /// /// 
		        /// /// /// /// /// /// /// /// /// /// /// /// ///
			
			function menu(){
			        const menu = window.open('../index.html','Menu');
                                window.close()
			}
			
                        /// /// /// /// /// /// /// /// /// /// /// /// /// 
		        /// /// /// /// /// /// /// /// /// /// /// /// /// 
		        /// /// /// /// /// /// /// /// /// /// /// /// /// 
			
		        function update() {
			        if(!Settings.debug.pause){
				        pMap.player.x = pTile().x;
				        pMap.player.y = pTile().y;
				
				        version.innerHTML = "Version: " + gameVersion;
				        coordinates.innerHTML = "x: " + pMap.player.x + " y: " + pMap.player.y;
			                biome.innerHTML = "biome: " + pTile().biome;
							
					drawInventoryLine();
			        }
                        }
				
                        let intervalUpdate = setInterval(() => update(), 10);
		        let intervalMinimap = setInterval(() => updateMinimap(),1000);
                
		        drawMinimap()
		
		        testImg.onload = function(){
		                draw();	
		        }
		</script>
    </body>
</html>
